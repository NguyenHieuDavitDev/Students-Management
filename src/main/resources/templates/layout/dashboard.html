<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      th:fragment="layout (title, pageTitle, pageSubtitle, activeMenu, content)">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title th:text="${title} ?: 'Dashboard'">Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
          crossorigin="anonymous">
    <!-- Font Awesome cho icon đẹp hơn -->
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
          integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A=="
          crossorigin="anonymous" referrerpolicy="no-referrer"/>
    <style>
        body { background: #ecf0f4; font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif; }
        .app-shell { min-height: 100vh; }

        .sidebar {
            width: 260px;
            background: linear-gradient(180deg, #111827 0%, #020617 100%);
            color: #e5e7eb;
            transition: width .2s ease-in-out;
        }
        .sidebar .brand {
            color: #fff;
            font-weight: 700;
            letter-spacing: .4px;
        }
        .sidebar small {
            opacity: .75;
        }
        .sidebar .nav-link {
            color: rgba(249, 250, 251, .75);
            border-radius: .5rem;
            display: flex;
            align-items: center;
            gap: .6rem;
            font-size: .95rem;
        }
        .sidebar .nav-link i {
            width: 1.1rem;
            text-align: center;
        }
        .sidebar .nav-link:hover {
            background: rgba(15, 23, 42, .85);
            color: #fff;
        }
        .sidebar .nav-link.active {
            background: #1d4ed8;
            color: #fff;
            box-shadow: 0 10px 25px rgba(37, 99, 235, .45);
        }

        .topbar {
            height: 60px;
            backdrop-filter: blur(12px);
            background: rgba(255, 255, 255, 0.85);
            border-bottom: 1px solid rgba(148, 163, 184, .35);
        }

        .content {
            flex: 1;
            background: radial-gradient(circle at top left, rgba(59, 130, 246, 0.10), transparent 55%),
                        radial-gradient(circle at bottom right, rgba(59, 130, 246, 0.08), transparent 55%);
        }
        .content-inner {
            padding: 1.5rem 1.75rem 2rem;
        }

        .card {
            border: 0;
            border-radius: 1rem;
            box-shadow: 0 18px 45px rgba(15, 23, 42, .10);
        }
        .card-header {
            border-bottom: 1px solid rgba(226, 232, 240, .9);
            background: linear-gradient(135deg, #ffffff 0%, #f1f5f9 100%);
        }

        .badge-soft-primary {
            background: rgba(37, 99, 235, .08);
            color: #1d4ed8;
        }

        .table> :not(caption)>*>* {
            vertical-align: middle;
        }
        .table thead th {
            font-size: .8rem;
            text-transform: uppercase;
            letter-spacing: .06em;
            border-bottom-width: 1px;
        }

        .sidebar-toggle-btn {
            border-radius: 999px;
            padding-inline: 0.6rem;
        }

        /* Sidebar collapsed state */
        .sidebar-collapsed .sidebar {
            width: 72px;
        }
        .sidebar-collapsed .sidebar .brand-text-wrapper,
        .sidebar-collapsed .sidebar .nav-link span,
        .sidebar-collapsed .sidebar .mt-auto {
            display: none !important;
        }
        .sidebar-collapsed .sidebar .brand-icon-wrapper {
            margin: 0 auto;
        }
        .sidebar-collapsed .sidebar .nav-link {
            justify-content: center;
            padding-inline: 0.75rem;
        }

        @media (max-width: 991.98px) {
            .sidebar { width: 220px; }
        }

        @media (max-width: 767.98px) {
            .app-shell {
                flex-direction: column;
            }
            .sidebar {
                width: 100%;
                flex-direction: row;
                align-items: center;
                padding-block: 0.75rem;
            }
            .sidebar nav {
                flex-direction: row !important;
                overflow-x: auto;
            }
        }
    </style>
</head>
<body>
<div class="d-flex app-shell">
    <div th:replace="~{layout/sidebar :: sidebar(${activeMenu})}"></div>

    <main class="content d-flex flex-column">
        <div th:replace="~{layout/header :: header(${pageTitle}, ${pageSubtitle})}"></div>

        <div class="content-inner">
            <div th:replace="${content}"></div>
        </div>
    </main>
</div>

<div th:replace="~{layout/footer :: footer}"></div>
</body>
</html>

